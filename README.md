<p align="left"> <img src="https://komarev.com/ghpvc/?username=johrel&label=Profile%20views&color=0e75b6&style=flat" alt="johrel" /> </p>
<h1 align="center">Ol√° üëã, eu sou o Johrel!!!</h1>
<h3 align="center">Trabalho com BI e sou graduando na p√≥s da PUC-Minas na √°rea de Ci√™ncia de Dados e Big Data</h3>

- üî≠ Atualmente trabalho como Analista de BI no **projeto de risco operacional do Bradesco**

- üå± Estou aprendendo sobre **ML, MlOps, DevOps, DeepLearning, IA, Engenharia de Dados, Engenharia de IA e Big Data.**

- üí¨ Me pergunte sobre **BI, Microstrategy, Power BI, SAS, SQL, Python, R e tudo que envolva tecnologia no geral, se eu n√£o souber, buscamos no ChatGPT! haha!!**

- üì´ Como entrar em contato comigo: **jhouers@gmail.com**

- ‚ö° Curiosidades sobre min: **Eu sou m√∫sico, pedreiro, encanador, eletricista, soldador, pintor, projetista, designer, cozinheiro amador e muito mais.. kkkkk**

<h3 align="left">Connect with me:</h3>
<p align="left">
<a href="https://linkedin.com/in/johrel-martins-pereira-999146108/" target="blank"><img align="center" src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/linked-in-alt.svg" alt="johrel-martins-pereira-999146108/" height="30" width="40" /></a>
<a href="https://instagram.com/jonfres" target="blank"><img align="center" src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/instagram.svg" alt="jonfres" height="30" width="40" /></a>
</p>

<h3 align="left">Languages and Tools:</h3>
<p align="left"> <a href="https://aws.amazon.com" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/amazonwebservices/amazonwebservices-original-wordmark.svg" alt="aws" width="40" height="40"/> </a> <a href="https://azure.microsoft.com/en-in/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/microsoft_azure/microsoft_azure-icon.svg" alt="azure" width="40" height="40"/> </a> <a href="https://www.cprogramming.com/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/c/c-original.svg" alt="c" width="40" height="40"/> </a> <a href="https://cassandra.apache.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/apache_cassandra/apache_cassandra-icon.svg" alt="cassandra" width="40" height="40"/> </a> <a href="https://www.w3schools.com/cs/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/csharp/csharp-original.svg" alt="csharp" width="40" height="40"/> </a> <a href="https://www.djangoproject.com/" target="_blank" rel="noreferrer"> <img src="https://cdn.worldvectorlogo.com/logos/django.svg" alt="django" width="40" height="40"/> </a> <a href="https://www.docker.com/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/docker/docker-original-wordmark.svg" alt="docker" width="40" height="40"/> </a> <a href="https://dotnet.microsoft.com/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/dot-net/dot-net-original-wordmark.svg" alt="dotnet" width="40" height="40"/> </a> <a href="https://www.figma.com/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/figma/figma-icon.svg" alt="figma" width="40" height="40"/> </a> <a href="https://flask.palletsprojects.com/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/pocoo_flask/pocoo_flask-icon.svg" alt="flask" width="40" height="40"/> </a> <a href="https://git-scm.com/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/git-scm/git-scm-icon.svg" alt="git" width="40" height="40"/> </a> <a href="https://grafana.com" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/grafana/grafana-icon.svg" alt="grafana" width="40" height="40"/> </a> <a href="https://hadoop.apache.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/apache_hadoop/apache_hadoop-icon.svg" alt="hadoop" width="40" height="40"/> </a> <a href="https://hive.apache.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/apache_hive/apache_hive-icon.svg" alt="hive" width="40" height="40"/> </a> <a href="https://www.adobe.com/in/products/illustrator.html" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/adobe_illustrator/adobe_illustrator-icon.svg" alt="illustrator" width="40" height="40"/> </a> <a href="https://www.jenkins.io" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/jenkins/jenkins-icon.svg" alt="jenkins" width="40" height="40"/> </a> <a href="https://kafka.apache.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/apache_kafka/apache_kafka-icon.svg" alt="kafka" width="40" height="40"/> </a> <a href="https://kubernetes.io" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/kubernetes/kubernetes-icon.svg" alt="kubernetes" width="40" height="40"/> </a> <a href="https://www.linux.org/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/linux/linux-original.svg" alt="linux" width="40" height="40"/> </a> <a href="https://www.mathworks.com/" target="_blank" rel="noreferrer"> <img src="https://upload.wikimedia.org/wikipedia/commons/2/21/Matlab_Logo.png" alt="matlab" width="40" height="40"/> </a> <a href="https://www.mongodb.com/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/mongodb/mongodb-original-wordmark.svg" alt="mongodb" width="40" height="40"/> </a> <a href="https://www.microsoft.com/en-us/sql-server" target="_blank" rel="noreferrer"> <img src="https://www.svgrepo.com/show/303229/microsoft-sql-server-logo.svg" alt="mssql" width="40" height="40"/> </a> <a href="https://www.mysql.com/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/mysql/mysql-original-wordmark.svg" alt="mysql" width="40" height="40"/> </a> <a href="https://www.nginx.com" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/nginx/nginx-original.svg" alt="nginx" width="40" height="40"/> </a> <a href="https://opencv.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/opencv/opencv-icon.svg" alt="opencv" width="40" height="40"/> </a> <a href="https://pandas.pydata.org/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/2ae2a900d2f041da66e950e4d48052658d850630/icons/pandas/pandas-original.svg" alt="pandas" width="40" height="40"/> </a> <a href="https://www.photoshop.com/en" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/photoshop/photoshop-line.svg" alt="photoshop" width="40" height="40"/> </a> <a href="https://www.postgresql.org" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/postgresql/postgresql-original-wordmark.svg" alt="postgresql" width="40" height="40"/> </a> <a href="https://postman.com" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/getpostman/getpostman-icon.svg" alt="postman" width="40" height="40"/> </a> <a href="https://www.python.org" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/python/python-original.svg" alt="python" width="40" height="40"/> </a> <a href="https://pytorch.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/pytorch/pytorch-icon.svg" alt="pytorch" width="40" height="40"/> </a> <a href="https://redis.io" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/redis/redis-original-wordmark.svg" alt="redis" width="40" height="40"/> </a> <a href="https://scikit-learn.org/" target="_blank" rel="noreferrer"> <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Scikit_learn_logo_small.svg" alt="scikit_learn" width="40" height="40"/> </a> <a href="https://seaborn.pydata.org/" target="_blank" rel="noreferrer"> <img src="https://seaborn.pydata.org/_images/logo-mark-lightbg.svg" alt="seaborn" width="40" height="40"/> </a> <a href="https://www.sqlite.org/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/sqlite/sqlite-icon.svg" alt="sqlite" width="40" height="40"/> </a> <a href="https://www.tensorflow.org" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/tensorflow/tensorflow-icon.svg" alt="tensorflow" width="40" height="40"/> </a> </p>


<div>
<a href="https://github.com/johrel">
<img height="180em" src="https://github-readme-stats.vercel.app/api/top-langs/?username=johrel&layout=compact&langs_count=7&theme=dracula"/>
<img height="180em" src="https://github-readme-stats.vercel.app/api?username=johrel&show_icons=true&theme=dracula&include_all_commits=true&count_private=true"/>
</div>

<h1 align="center"># BIG DATA ECOSYSTEM COM DOCKER</h1>

Ambiente para estudo dos principais frameworks big data em docker.
<br> Esse setup vai criar dockers com os frameworks HDFS, HBase, Hive, Presto, Spark, Jupyter, Hue, Mongodb, Metabase, Nifi, kafka, Mysql e Zookeeper com a seguinte arquitetura:
<br>
![Ecossistema](ecosystem.jpeg)

## SOFTWARES NECESS√ÅRIOS
#### Para a cria√ß√£o e uso do ambiente vamos utilizar o git e o Docker 
   * Instala√ß√£o do Docker Desktop no Windows [Docker Desktop](https://hub.docker.com/editions/community/docker-ce-desktop-windows) ou o docker no [Linux](https://docs.docker.com/install/linux/docker-ce/ubuntu/)
   *  [Instala√ß√£o do git](https://git-scm.com/book/pt-br/v2/Come%C3%A7ando-Instalando-o-Git)
   
## SETUP
*OBS: Esse passo deve ser realizado apena uma vez. Ap√≥s o ambiente criado, utilizar o docker-compose para iniciar os containers como mostrado no t√≥pico INICIANDO O AMBIENTE*

#### Cria√ß√£o do diret√≥rio docker:
*OBS: Criar um diret√≥rio chamado docker*

   *  Sugest√£o no Windows:
      *  Criar na raiz do seu drive o diret√≥rio docker
         ex: C:\docker
          
   * Sugest√£o no Linux:
      * Criar o diret√≥rio na home do usu√°rio
        ex: /home/user/docker

#### Em um terminal/DOS, dentro diret√≥rio docker, realizar o clone do projeto no github
          git clone https://github.com/Johrel/Projeto_Kafka.git
          
#### No diret√≥rio Projeto_Kafka vai existir os seguintes objetos
![ls](ls.JPG)

   
## INICIANDO O AMBIENTE
   
  *No Windows abrir PowerShell, do Linux um terminal*

### No terminal, no diretorio Projeto_Kafka executar o docker-compose
          docker-compose up -d        

### Verificar imagens e containers
 
         docker image ls

![docker image ls](docker_image_ls.JPG)

         docker container ls

![docker container](docker_container_ls.JPG)

## SOLUCIONANDO PROBLEMAS 
   
  *No Windows abrir o Docker Quickstart Terminal*

### Parar um containers
         docker stop [nome do container]      

### Parar todos containers
         docker stop $(docker ps -a -q)
  
### Remover um container
         docker rm [nome do container]

### Remover todos containers
         docker rm $(docker ps -a -q)         

### Dados do containers
         docker container inspect [nome do container]

### Iniciar um container
         docker-compose up -d [nome do container]

### Iniciar todos os containers
         docker-compose up -d 

### Acessar log do container
         docker container logs [nome do container] 

## Acesso WebUI dos Frameworks
 
* HDFS *http://localhost:50070*
* Presto *http://localhost:8080*
* Hbase *http://localhost:16010/master-status*
* Mongo Express *http://localhost:8081*
* Kafka Manager *http://localhost:9000*
* Metabase *http://localhost:3000*
* Nifi *http://localhost:9090*
* Jupyter Spark *http://localhost:8889*
* Hue *http://localhost:8888*
* Spark *http://localhost:4040*

## Acesso por shell

   ##### HDFS

          docker exec -it datanode bash

   ##### HBase

          docker exec -it hbase-master bash

   ##### Sqoop

          docker exec -it datanode bash
        
   ##### Kafka

          docker exec -it kafka bash

## Acesso JDBC

   ##### MySQL
          jdbc:mysql://database/employees

   ##### Hive

          jdbc:hive2://hive-server:10000/default

   ##### Presto

          jdbc:presto://presto:8080/hive/default

## Usu√°rios e senhas

   ##### Hue
    Usu√°rio: admin
    Senha: admin

   ##### Metabase
    Usu√°rio: bigdata@class.com
    Senha: bigdata123 

   ##### MySQL
    Usu√°rio: root
    Senha: secret
   
   ##### MongoDB
    Usu√°rio: root
    Senha: root
    Authentication Database: admin

## Documenta√ß√£o Oficial

* https://zookeeper.apache.org/
* https://kafka.apache.org/
* https://nifi.apache.org/
* https://prestodb.io/
* https://spark.apache.org/
* https://www.mongodb.com/
* https://www.metabase.com/
* https://jupyter.org/
* https://hbase.apache.org/
* https://sqoop.apache.org/
* https://hadoop.apache.org/
* https://hive.apache.org/
* https://gethue.com/
* https://github.com/yahoo/CMAK
* https://www.docker.com/

## 
## Para replicar esse projeto/treinamento, voc√™ pode come√ßar criando uma pasta local, e depois clonar este reposit√≥rio dentro da mesma. Ap√≥s clonar o reposit√≥rio, podemos iniciar o docker e dar sequ√™ncia utilizando os comandos abaixo.
  Os comandos que utilizamos para dar in√≠cio ao Kafka foram estes:
  
  Aqui subimos o container do Kafka:
  
    ‚óè Iniciando o Docker: docker-compose up -d kafka 
  
  Ap√≥s subir o container e garantir que ele est√° rodando, podemos entrar no bash:
  
    ‚óè Acesso ao host kafka: docker exec -it kafka bash 
  
  Dentro do bash, podemos alterar o diret√≥rio at√© a pasta bin, para ent√£o poder criar os t√≥picos:
  
    ‚óè Diret√≥rio da Kafka: /opt/kafka/bin
  
  Ap√≥s acessar o diret√≥rio bin, voc√™ precisa utilizar o script kafka-topics no diret√≥rio bin, para criar os novos t√≥picos:
  
  O comando utilizado para a cria√ß√£o de t√≥picos √© esse:
  
     ./kafka-topics.sh --create --zookeeper zookeeper:2181 --replication-factor 1 --partitions 1 --topic <nome-do-topico> 
   
   Onde: 
    
   --zookeeper √© o conjunto de zookeeper
    
   --replication-factor √© o n√∫mero de r√©plica para o t√≥pico 
    
   --partitions √© o n√∫mero de parti√ß√µes desejado para aquele t√≥pico 
    
   --topic √© o nome do t√≥pico a ser criado 
    
  Ao criar um t√≥pico, √© exibida a mensagem: Created topic (nome-do-topico).
    
  Para listar os t√≥picos existentes utilizamos o comando abaixo: 
  
    ./kafka-topics.sh --list --zookeeper zookeeper:2181 
  
  Para verificar as configura√ß√µes do t√≥pico: 
  
    ./kafka-topics.sh --describe --zookeeper zookeeper:2181 --topic <nome-do-topico>
  

## Agora que j√° sabemos criar t√≥picos utilizando o Kafka, vamos utilizar o ‚Äúproducer‚Äù para criar mensagens em realtime, e em outro terminal, utilizar o ‚Äúconsumer‚Äù, que ir√° receber as mensagens criadas pelo ‚Äúproducer‚Äù instantaneamente.

Para isso vamos usar os comandos abaixo: 

    ./kafka-console-producer.sh --broker-list kafka:9092 --topic <nome-do-topico>

Ap√≥s a abertura do ‚Äúproducer‚Äù, basta digitar as mensagens.

Em outro terminal, v√° at√© o diret√≥rio bin novamente e execute o ‚Äúconsumer‚Äù.

    ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic <nome-do-topico> --from-beginning

Ao iniciar o consumer, todas as mensagens ser√£o recebidas no console. Inclusive as mensagens enviadas antes da abertura do consumer.


Obs: Por padr√£o, a porta utilizada pelo Kafka Broker √© a 9092, podendo ser alterada no arquivo de configura√ß√£o. 

## Depois de fazermos o envio e recebimento utilizando o terminal, podemos fazer tamb√©m o mesmo, por√©m, utilizando Python. 

**Dentro do reposit√≥rio voc√™ vai encontrar os scripts: Producer e Consumer.**

Para criar novas mensagens atrav√©s do Python, voc√™ vai precisar criar um t√≥pico no console. Eu criei o t√≥pico chamado ‚Äúteste‚Äù. Por isso, ao abrir o script, voc√™ vai encontrar no c√≥digo o seguinte: topic='teste'.

Mas voc√™ pode criar com o nome que preferir. 

Com isso terminamos nosso treinamento de mensageria utilizando o Apache Kafka. Como podem ver, √© algo introdut√≥rio e que nos foi apresentado durante o curso de p√≥s-gradua√ß√£o em Ci√™ncia de Dados e Big Data da PUC-Minas.

**Obrigado a todos e at√©!!!**


